<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cilium : eBPF é‡å¡‘äº‘åŸç”ŸåŸºç¡€è®¾æ–½</title>
    <meta name="revised" content="Tuesday, December 23rd, 2025, 3:40 pm" />
    <meta property="og:updated_time" content="2025-12-23T15:40:00+08:00" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Cilium : eBPF é‡å¡‘äº‘åŸç”ŸåŸºç¡€è®¾æ–½",
      "description": "è¿æ¥ã€å®‰å…¨ä¸å¯è§‚æµ‹æ€§çš„ç»ˆææ•°æ®é¢ã€‚æœ¬ç™½çš®ä¹¦èåˆäº†å™äº‹æ´å¯Ÿã€åº•å±‚æ¶æ„è§£æ„åŠå…¨çƒå·¨å¤´çš„å¤§è§„æ¨¡è½åœ°ç»éªŒï¼Œä¸ºæ¶æ„å¸ˆæä¾›å®Œæ•´çš„å†³ç­–å‚è€ƒã€‚",
      "datePublished": "2025-12-20T08:00:00+08:00",
      "dateModified": "2025-12-23T15:40:00+08:00" 
    }
    </script>
    <style>
        /* --- Cisco Brand Identity System --- */
        :root {
            --cisco-blue: #049FD9;
            --cisco-midnight: #0D274D;
            --cisco-sky: #6ABF4B;
            --cisco-slate: #58585B;
            --cisco-platinum: #E4E4E4;
            --cisco-red: #E2231A;
            --cisco-orange: #F58025;
            --white: #FFFFFF;
            --shadow-card: 0 12px 40px rgba(13, 39, 77, 0.08);
            --shadow-hover: 0 20px 50px rgba(13, 39, 77, 0.15);
            --radius-lg: 16px;
        }

        /* --- Typography & Base --- */
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-font-smoothing: antialiased; }
        body {
            font-family: "SF Pro Text", "Segoe UI", Roboto, sans-serif;
            color: var(--cisco-slate);
            background-color: #F8FAFC;
            line-height: 1.7;
        }

        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
        h1, h2, h3, h4 { color: var(--cisco-midnight); font-weight: 700; letter-spacing: -0.02em; }
        
        /* --- Hero Section --- */
        header {
            background: linear-gradient(135deg, var(--cisco-midnight) 0%, #004466 100%);
            color: white; padding: 120px 0 140px; position: relative;
            clip-path: polygon(0 0, 100% 0, 100% 85%, 0 100%);
        }
        .hero-tag {
            background: rgba(255,255,255,0.1); color: #61C6E2; padding: 6px 18px;
            border-radius: 20px; font-size: 0.8rem; font-weight: 700;
            text-transform: uppercase; letter-spacing: 1.5px; display: inline-block; margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.2);
        }
        h1 { font-size: 3.5rem; margin-bottom: 24px; line-height: 1.1; color: white; }
        .hero-sub { font-size: 1.35rem; color: rgba(255,255,255,0.85); max-width: 850px; margin-bottom: 40px; }

        /* --- Winston's Promise Block --- */
        .promise-box {
            background: var(--cisco-blue); padding: 35px; border-radius: var(--radius-lg);
            display: flex; align-items: center; gap: 25px;
            box-shadow: 0 20px 40px rgba(4, 159, 217, 0.25);
            margin-top: 40px; position: relative; z-index: 2;
        }
        .promise-box strong { font-size: 1.4rem; display: block; color: white; margin-bottom: 5px; }
        .promise-box p { color: rgba(255,255,255,0.95); margin: 0; font-size: 1.1rem; }

        /* --- Global Grid & Cards --- */
        section { padding: 100px 0; background: white; border-bottom: 1px solid var(--cisco-platinum); }
        section:nth-child(even) { background: #FDFDFD; }

        .section-header { text-align: center; max-width: 900px; margin: 0 auto 70px; }
        .section-header h2 { font-size: 2.8rem; margin-bottom: 20px; }
        .section-header h2::after {
            content: ''; display: block; width: 80px; height: 5px; background: var(--cisco-blue);
            margin: 20px auto 0; border-radius: 3px;
        }

        /* --- Story Section Enhancement --- */
        .story-section {
            background: white; padding: 40px; border-radius: 20px;
            margin-bottom: 60px; border-left: 8px solid var(--cisco-blue);
            box-shadow: var(--shadow-card);
        }

        /* --- Golden Circle Section --- */
        .golden-circle { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 60px; }
        .gold-card { background: white; padding: 35px; border-radius: 12px; box-shadow: var(--shadow-card); border-top: 4px solid var(--cisco-blue); }
        .analogy { background: #eef9ff; padding: 15px; border-left: 4px solid var(--cisco-blue); margin: 15px 0; font-style: italic; font-size: 0.9rem; }

        /* --- Evolution Timeline --- */
        .evo-container { display: flex; justify-content: space-between; margin-top: 50px; position: relative; }
        .evo-container::before { content: ''; position: absolute; top: 40px; left: 0; width: 100%; height: 2px; background: var(--cisco-platinum); z-index: 1; }
        .evo-step { flex: 1; text-align: center; position: relative; z-index: 2; padding: 0 15px; }
        .evo-dot { width: 20px; height: 20px; background: var(--cisco-platinum); border-radius: 50%; margin: 30px auto 20px; border: 4px solid white; transition: all 0.3s; }
        .evo-step.active .evo-dot { background: var(--cisco-blue); transform: scale(1.3); }

        /* --- Comparison Matrix Table --- */
        .matrix-wrap { overflow-x: auto; margin-top: 50px; border-radius: 12px; border: 1px solid var(--cisco-platinum); }
        table { width: 100%; border-collapse: collapse; background: white; text-align: left; }
        th { background: var(--cisco-midnight); color: white; padding: 20px; font-size: 0.9rem; }
        td { padding: 20px; border-bottom: 1px solid var(--cisco-platinum); font-size: 0.95rem; }
        .tag-good { background: #E6F6EC; color: #2B9348; padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; }
        .tag-bad { background: #FFEDEB; color: #E2231A; padding: 4px 10px; border-radius: 4px; font-weight: bold; font-size: 0.8rem; }

        /* --- SRE ROI Calculator --- */
        .roi-panel { background: var(--cisco-midnight); color: white; padding: 40px; border-radius: 20px; display: grid; grid-template-columns: 1fr 1.5fr; gap: 40px; align-items: center; }
        .roi-stat { display: flex; flex-direction: column; gap: 10px; }
        .roi-value { font-size: 3.5rem; font-weight: bold; color: var(--cisco-sky); line-height: 1; }
        .roi-breakdown { font-size: 0.95rem; line-height: 1.8; padding-left: 20px; border-left: 2px solid rgba(255,255,255,0.2); }
        /* --- New Architecture Section Styles --- */
        .arch-diagram {
            background: #fdfdfd;
            border: 2px solid var(--cisco-platinum);
            border-radius: var(--radius-lg);
            padding: 30px;
            margin: 40px 0;
        }

        .space-label {
            font-size: 0.8rem;
            font-weight: 800;
            text-transform: uppercase;
            color: var(--cisco-slate);
            letter-spacing: 1px;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--cisco-platinum);
            padding-bottom: 5px;
        }

        .user-space, .kernel-space {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px;
        }

        .user-space {
            background: rgba(4, 159, 217, 0.03);
            border: 1px dashed var(--cisco-blue);
            border-radius: 8px;
        }

        .kernel-space {
            background: rgba(106, 191, 75, 0.05);
            border: 1px solid var(--cisco-sky);
            border-radius: 8px;
        }

        .component {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--cisco-platinum);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }

        .component svg {
            color: var(--cisco-blue);
        }

        .ebpf-engine {
            grid-column: 1 / -1;
            background: var(--cisco-midnight);
            color: white;
            padding: 15px;
            text-align: center;
            border-radius: 6px;
            font-weight: bold;
            letter-spacing: 1px;
        }
        /* --- Tech Cards & Hook Grid --- */
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .tech-card { background: white; padding: 40px; border-radius: var(--radius-lg); border: 1px solid var(--cisco-platinum); transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); position: relative; }
        .tech-card:hover { transform: translateY(-10px); box-shadow: var(--shadow-hover); border-color: var(--cisco-blue); }
        .hook-card { background: #fdfdfd; border: 1px solid #e0e0e0; padding: 25px; border-radius: 8px; border-top: 3px solid var(--cisco-blue); }
        .hook-card h4 { color: var(--cisco-blue); margin-bottom: 12px; }

        /* --- Diagram & Lab --- */
        .diagram-box { background: #0D1117; padding: 50px; border-radius: 20px; margin: 50px 0; text-align: center; color: #8b949e; }
        .lab-terminal { background: #111; border-radius: 12px; overflow: hidden; box-shadow: 0 40px 80px rgba(0,0,0,0.4); margin-top: 40px; border: 1px solid #333; }
        .term-bar { background: #2A2A2A; padding: 12px 20px; display: flex; gap: 8px; align-items: center; }
        .term-body { padding: 30px; font-family: 'SF Mono', 'Fira Code', monospace; min-height: 450px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        .log-stream { color: #00FF41; font-size: 0.8rem; border-right: 1px solid #333; padding-right: 20px; height: 380px; overflow-y: auto; }
        .service-map { display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative; }

        /* --- Success Story Section --- */
        .success-story { display: flex; gap: 40px; margin-bottom: 60px; align-items: flex-start; padding-bottom: 40px; border-bottom: 1px dashed var(--cisco-platinum); }
        .success-story:last-child { border-bottom: none; }
        .story-content { flex: 1.5; }
        .story-analysis { flex: 1; background: #F0F7FA; padding: 30px; border-radius: 12px; border-top: 4px solid var(--cisco-blue); }

        /* --- Footer --- */
        footer { padding: 80px 0; background: var(--cisco-midnight); color: white; text-align: center; }
        .pulse { animation: pulse-blue 2s infinite; }
        @keyframes pulse-blue { 0% { box-shadow: 0 0 0 0 rgba(4, 159, 217, 0.4); } 70% { box-shadow: 0 0 0 15px rgba(4,159,217,0); } 100% { box-shadow: 0 0 0 0 rgba(4,159,217,0); } }

        /* --- Added Specific UI Components for V3.0 --- */
        .expert-debug-box { background: #1A1A1A; color: #E4E4E4; border-radius: 12px; padding: 25px; font-family: 'SF Mono', monospace; font-size: 0.85rem; border: 1px solid #333; }
        .debug-cmd { color: var(--cisco-blue); font-weight: bold; }
        .highlight-cisco-blue { color: var(--cisco-blue); font-weight: bold; }

        @media (max-width: 992px) {
            .roi-panel, .term-body, .success-story { grid-template-columns: 1fr; flex-direction: column; }
            .evo-container::before { width: 2px; height: 100%; left: 50%; top: 0; }
            .log-stream { border-right: none; border-bottom: 1px solid #333; padding-bottom: 20px; height: 200px; }
        }
    </style>
</head>
<body>

    <!-- Hero Section -->
    <header>
        <div class="container">
            <div class="hero-tag">Cisco Infrastructure Strategy: 2025 Comprehensive Edition</div>
            <h1>Cilium:<br>eBPF é‡å¡‘äº‘åŸç”ŸåŸºç¡€è®¾æ–½</h1>
            <p class="hero-sub">
                è¿æ¥ã€å®‰å…¨ä¸å¯è§‚æµ‹æ€§çš„ç»ˆææ•°æ®é¢ã€‚æœ¬ç™½çš®ä¹¦èåˆäº†å™äº‹æ´å¯Ÿã€åº•å±‚æ¶æ„è§£æ„åŠå…¨çƒå·¨å¤´çš„å¤§è§„æ¨¡è½åœ°ç»éªŒï¼Œä¸ºæ¶æ„å¸ˆæä¾›å®Œæ•´çš„å†³ç­–å‚è€ƒã€‚
            </p>
            
            <div class="promise-box pulse">
                <div style="font-size: 3rem;">ğŸ›ï¸</div>
                <div>
                    <strong>æ¶æ„å¸ˆæ‰¿è¯º (The Promise):</strong>
                    <p>é˜…è¯»æœ¬ç¯‡ï¼Œä½ å°†ä¸ä»…æŒæ¡è·¨äº‘èº«ä»½ä¸€è‡´æ€§çš„ ClusterMesh æ¶æ„ï¼Œè¿˜å°†è·å¾—é‡åŒ–çš„ ROI æ¨¡å‹ä»¥èŠ‚çœ 30% ä»¥ä¸Šçš„äº‘è´¦å•ï¼Œå¹¶ç†è§£æ”¯æ’‘ OpenAI ä¸‡çº§ GPU ç®—åŠ›çš„ç½‘ç»œåº•åº§ã€‚</p>
                </div>
            </div>
        </div>
    </header>

    <!-- [Story Section] The Invisible Sentry -->
    <section>
        <div class="container">
            <div style="margin-bottom: 30px; border-left: 4px solid var(--cisco-blue); padding-left: 15px;">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 1: Establishing the Context</span>
                <h2 style="font-size: 1.8rem; margin-top: 5px;">ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é‡æ–°æƒ³è±¡ç½‘ç»œï¼Ÿ</h2>
            </div>

            <div class="story-section">
                <h3 style="color: var(--cisco-blue); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    å¾®æœåŠ¡ç‹å›½çš„â€œéšå½¢å“¨å…µâ€ (A Narrative)
                </h3>
                <p>
                    æƒ³è±¡ä¸€ä¸ªåä¸ºâ€œK8sâ€çš„ç¹è£ç‹å›½ï¼Œèµ·åˆåªæœ‰å‡ ä¸ªæ‘åº„ï¼ˆPodï¼‰ã€‚å®ˆå«ï¼ˆiptablesï¼‰æ‹¿ç€çº¸è´¨åå½•ï¼Œé€šè¿‡é€è¡ŒæŸ¥å¯¹æ¥æ”¾è¡Œè®¿å®¢ã€‚éšç€ç‹å›½æ‰©å¼ åˆ°æ•°ä¸‡ä¸ªåŸé•‡ï¼Œåå½•å˜æˆäº†å‡ å…¬é‡Œé•¿ï¼Œå®ˆå«æŸ¥é˜…ä¸€æ¬¡åå½•éœ€è¦æ¶ˆè€—æ•´å¤©æ—¶é—´ï¼Œäº¤é€šé™·å…¥ç˜«ç—ªã€‚
                    <br><br>
                    è¿™æ—¶ï¼Œ<b>Cilium</b> å‡ºç°äº†ã€‚ä»–ç»™æ¯ä¸ªåŸé•‡åˆ†å‘äº†â€œé­”æ³•èƒ¸ç« â€ï¼ˆIdentity Labelï¼‰ï¼Œå¹¶åœ¨æ¯æ¡é“è·¯çš„åœ°é¢ä¸‹å®‰è£…äº†â€œéšå½¢æ„Ÿåº”å™¨â€ï¼ˆeBPF ç¨‹åºï¼‰ã€‚ç°åœ¨ï¼Œå“¨å…µæ— éœ€æŸ¥é˜…çº¸å¼ ï¼Œè®¿å®¢è¸è¿‡æ„Ÿåº”å™¨çš„ç¬é—´ï¼Œèº«ä»½ã€æ„å›¾ã€é€Ÿåº¦éƒ½è¢«å³æ—¶å¤„ç†ã€‚
                    <br><br>
                    è¿™å°±æ˜¯ Cilium ç»™ç°ä»£æ•°æ®ä¸­å¿ƒå¸¦æ¥çš„å˜é©ï¼š<b>å°†æ€§èƒ½å¼€é”€é™è‡³å†°ç‚¹ï¼Œå°†å®‰å…¨è¾¹ç•Œæ¨è‡³å†…æ ¸ã€‚</b>
                </p>
                
                <div class="analogy" style="margin-top: 30px; background: rgba(4, 159, 217, 0.03); border: 1px dashed var(--cisco-blue); border-radius: 8px;">
                    <div style="font-weight: bold; color: var(--cisco-midnight); margin-bottom: 10px; display: flex; align-items: center; gap: 8px;">
                        <span style="font-size: 1.2rem;">ğŸ’¡</span> Make it Clear: æ ¸å¿ƒéšå–»å¯¹ç…§è¡¨
                    </div>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; font-size: 0.85rem;">
                        <div style="padding: 10px; background: white; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                            <strong style="color: var(--cisco-red);">çº¸è´¨åå½•</strong><br>
                            <span style="color: var(--cisco-slate);">iptables è§„åˆ™é“¾ (çº¿æ€§ $O(N)$ æœç´¢)</span>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                            <strong style="color: var(--cisco-sky);">é­”æ³•èƒ¸ç« </strong><br>
                            <span style="color: var(--cisco-slate);">Cilium Security Identity (16-bit èº«ä»½ ID)</span>
                        </div>
                        <div style="padding: 10px; background: white; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
                            <strong style="color: var(--cisco-blue);">éšå½¢æ„Ÿåº”å™¨</strong><br>
                            <span style="color: var(--cisco-slate);">eBPF Hook ç‚¹ (JIT ç¼–è¯‘ï¼Œå¸¸æ•°çº§æ€§èƒ½)</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Data Plane Evolution (ä»£é™…æ¼”è¿›)-->
    <section>
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 2: Understanding the Shift</span>
                <h2>ç½‘ç»œä»£é™…æ¼”è¿›ï¼šæˆ‘ä»¬ä¸ºä½•åœ¨æ­¤ï¼Ÿ</h2>
                <p>ä»ç¡¬ä»¶å›´å¢™åˆ°è½¯ä»¶å®šä¹‰ï¼Œå†åˆ°å†…æ ¸åŸç”Ÿã€‚ç†è§£ Cilium çš„å‰ææ˜¯ç†è§£å…¶åœ¨å†å²ç»´åº¦ä¸­çš„ä½ç½®ã€‚</p>
            </div>

            <div class="evo-container">
                <div class="evo-step">
                    <h4>ç¬¬ä¸€ä»£ï¼šUserspace</h4>
                    <p>é€šè¿‡åº”ç”¨å±‚ä»£ç†è½¬å‘ã€‚æ€§èƒ½ç“¶é¢ˆæå¤§ã€‚</p>
                    <div class="evo-dot"></div>
                </div>
                <div class="evo-step">
                    <h4>ç¬¬äºŒä»£ï¼šKernel (iptables)</h4>
                    <p>åˆ©ç”¨å†…æ ¸è§„åˆ™é“¾ã€‚éš Pod å¢åŠ  $O(N)$ å¤æ‚åº¦çˆ†ç‚¸ã€‚</p>
                    <div class="evo-dot"></div>
                </div>
                <div class="evo-step active">
                    <h4>ç¬¬ä¸‰ä»£ï¼šeBPF Native</h4>
                    <p>Cilium æ—¶ä»£ã€‚ç»•è¿‡åè®®æ ˆï¼Œ$O(1)$ æŸ¥æ‰¾ï¼Œèº«ä»½æ„ŸçŸ¥ã€‚</p>
                    <div class="evo-dot"></div>
                </div>
            </div>

            <div class="matrix-wrap">
                <table>
                    <thead>
                        <tr>
                            <th>å…³é”®ç»´åº¦ (Key Metrics)</th>
                            <th>iptables (ä¼ ç»Ÿæ¨¡å‹)</th>
                            <th>Cilium eBPF (ç°ä»£æ ‡å‡†)</th>
                            <th>æ¶æ„æ„ä¹‰ (Architectural Impact)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>è½¬å‘æ•ˆç‡</td>
                            <td><span class="tag-bad">ä½</span> éšè§„åˆ™çº¿æ€§è¡°å‡</td>
                            <td><span class="tag-good">æé«˜</span> å¸¸æ•°çº§å»¶è¿Ÿ</td>
                            <td>è§£è€¦è§„æ¨¡ä¸æ€§èƒ½</td>
                        </tr>
                        <tr>
                            <td>å®‰å…¨åŸºçŸ³</td>
                            <td>åŸºäº IP (æ˜“å˜ã€è„†å¼±)</td>
                            <td>åŸºäº èº«ä»½æ ‡ç­¾ (Identity)</td>
                            <td>å®ç°çœŸæ­£çš„é›¶ä¿¡ä»»å†…æ ¸</td>
                        </tr>
                        <tr>
                            <td>å¯è§‚æµ‹æ€§</td>
                            <td><span class="tag-bad">ç›²åŒº</span> ä»…åŒ…çº§ç»Ÿè®¡</td>
                            <td><span class="tag-good">å…¨é€è§†</span> L7/DNS/èº«ä»½å…³è”</td>
                            <td>æ¶ˆé™¤ç”Ÿäº§ç¯å¢ƒæ’éšœé»‘ç›’</td>
                        </tr>
                        <tr>
                            <td>ç½‘æ ¼å½¢æ€</td>
                            <td>Sidecar (é«˜ CPU/å†…å­˜æŸè€—)</td>
                            <td>Sidecar-less (å†…æ ¸åŸç”Ÿä»£ç†)</td>
                            <td>æç®€æ¶æ„ï¼Œæ˜¾è‘—é™æœ¬å¢æ•ˆ</td>
                        </tr>
                        <tr>
                            <td>ç‰©ç†ç½‘ç»œæ•´åˆ</td>
                            <td>éœ€å¤æ‚ Overlay å°è£…</td>
                            <td>åŸç”Ÿæ”¯æŒ BGP/ç‰©ç†ç½‘é›†æˆ</td>
                            <td><span class="highlight-cisco-blue">NEW</span> å®ç° DC ç½‘ç»œä¸€ä½“åŒ–</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div style="margin-top: 40px; padding: 20px; border-radius: 8px; background: #F8FAFC; border: 1px solid var(--cisco-platinum);">
                <p style="font-size: 0.95rem; color: var(--cisco-slate); line-height: 1.6;">
                    <strong>ğŸ’¡ æ¶æ„å¸ˆç¬”è®°ï¼š</strong> è¿™é‡Œä¸ä»…æ˜¯æ€§èƒ½çš„æå‡ï¼Œæ›´æ˜¯**å¤æ‚åº¦çš„é‡Šæ”¾**ã€‚åœ¨ä¼ ç»Ÿçš„ $O(N)$ æ¨¡å‹ä¸‹ï¼Œç½‘ç»œè§„æ¨¡è¶Šå¤§ï¼Œç³»ç»Ÿè¶Šè„†å¼±ï¼›è€Œ eBPF å¸¦æ¥çš„ $O(1)$ ç‰¹æ€§ï¼Œè®©æˆ‘ä»¬ç¬¬ä¸€æ¬¡åœ¨ä¸‡çº§èŠ‚ç‚¹è§„æ¨¡ä¸‹è·å¾—äº†ç¡®å®šæ€§çš„æ€§èƒ½è¡¨ç°ã€‚
                </p>
            </div>
        </div>
    </section>
    <!-- User/Kernel Space æ¶æ„è§£æ„ + åä½œæœºåˆ¶è¯´æ˜-->
    <section id="architecture-map" style="background: white;">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 3: The Big Picture</span>
                <h2 id="archTitle">å†…æ ¸çº§åä½œï¼šæ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢çš„äº¤å“ä¹</h2>
                <p>ç†è§£ Cilium çš„å…³é”®åœ¨äºåŒºåˆ†â€œè°åœ¨ä¸‹ä»¤ï¼ˆç”¨æˆ·æ€ï¼‰â€ä¸â€œè°åœ¨æ‰§è¡Œï¼ˆå†…æ ¸æ€ï¼‰â€ã€‚è¿™ç§è§£è€¦æ˜¯é«˜æ€§èƒ½ä¸å®‰å…¨çš„åŸºç¡€ã€‚</p>
            </div>

            <div class="arch-diagram">
                <div class="space-label" data-i18n="user_space">ç”¨æˆ·ç©ºé—´ (User Space) - æ§åˆ¶å¹³é¢ (The Brain)</div>
                <div class="user-space">
                    <div class="component">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                        </svg>
                        <strong>Cilium Agent</strong>
                        <p style="font-size:0.85rem; color:var(--cisco-slate)">ï¼ˆWatcher, Compiler, BPF Loaderï¼‰è´Ÿè´£ç­–ç•¥ç›‘å¬ã€eBPF ç¨‹åºç¼–è¯‘åŠåŠ è½½ã€‚</p>
                    </div>
                    <div class="component">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 13h-8v-2h8v2zm-2-6h-6v2h6V7zm0 10h-6v2h6v-2zM12 7H2v10h10V7z"/>
                        </svg>
                        <strong>Cilium Operator</strong>
                        <p style="font-size:0.85rem; color:var(--cisco-slate)">ï¼ˆKVStore Sync, Identity Allocatorï¼‰å¤„ç†èº«ä»½åˆ†é…ç­‰å…¨å±€é›†ç¾¤ä»»åŠ¡ã€‚</p>
                    </div>
                    <div class="component">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 16.5C21 16.88 20.79 17.21 20.47 17.38L12.57 21.82C12.41 21.94 12.21 22 12 22C11.79 22 11.59 21.94 11.43 21.82L3.53 17.38C3.21 17.21 3 16.88 3 16.5V7.5C3 7.12 3.21 6.79 3.53 6.62L11.43 2.18C11.59 2.06 11.79 2 12 2C12.21 2 12.41 2.06 12.57 2.18L20.47 6.62C20.79 6.79 21 7.12 21 7.5V16.5Z"/>
                        </svg>
                        <strong>Hubble</strong>
                        <p style="font-size:0.85rem; color:var(--cisco-slate)">ï¼ˆFlow Observer, UIï¼‰ä»æ•°æ®å¹³é¢æå–æµä¿¡æ¯ï¼Œæä¾›é€»è¾‘åŒ–çš„å¯è§†åŒ–è§†å›¾ã€‚</p>
                    </div>
                </div>

                <div style="text-align: center; color: var(--cisco-blue); margin: 35px 0; position: relative;">
                    <div style="border-left: 2px dashed var(--cisco-blue); height: 40px; position: absolute; left: 50%; top: -30px;"></div>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="background: white; position: relative; z-index: 2;">
                        <path d="M7 13l5 5 5-5M7 6l5 5 5-5" />
                    </svg>
                    <span style="font-size: 13px; display: block; font-weight: bold; margin-top: 5px;" data-i18n="interaction">
                        åä½œæœºåˆ¶ï¼šAgent ç¼–è¯‘ ELF å¯¹è±¡å¹¶åŠ è½½è‡³å†…æ ¸ï¼Œé€šè¿‡ Maps å®æ—¶åŒæ­¥çŠ¶æ€
                    </span>
                </div>

                <div class="space-label" data-i18n="kernel_space" style="border-bottom-color: var(--cisco-sky);">å†…æ ¸ç©ºé—´ (Kernel Space) - æ•°æ®å¹³é¢ (The Muscle)</div>
                    <div class="kernel-space" style="display: block; padding: 25px;">
                        <div class="ebpf-engine" style="margin-bottom: 20px;">
                            eBPF Datapath Execution Engine (JIT Compiled - æ¥è¿‘åŸç”Ÿç¡¬ä»¶æ€§èƒ½)
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%;">
                            <div class="component" style="background: #fff; border-top: 4px solid var(--cisco-blue); margin: 0; min-height: 120px;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 7V4a2 2 0 012-2h12a2 2 0 012 2v3M4 17v3a2 2 0 012 2h12a2 2 0 012-2v-3M4 12h16"/></svg>
                                    <b style="color: var(--cisco-midnight);">BPF Maps (The Brain in Kernel)</b>
                                </div>
                                <small data-i18n="bpf_maps_desc" style="color: var(--cisco-slate); line-height: 1.4;">
                                    è¿æ¥æ§åˆ¶é¢ä¸æ•°æ®é¢çš„ KV å­˜å‚¨ï¼ˆIPCache, Policy, LB Mapsï¼‰ã€‚<br>
                                    <strong>å®ç° $O(1)$ æŸ¥æ‰¾çš„æ ¸å¿ƒï¼šä»çº¿æ€§æœç´¢è¿›åŒ–ä¸ºå­—å…¸æ£€ç´¢ã€‚</strong>
                                </small>
                            </div>
                            <div class="component" style="background: #fff; border-top: 4px solid var(--cisco-sky); margin: 0; min-height: 120px;">
                                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 8px;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
                                    <b style="color: var(--cisco-midnight);">Endpoint States</b>
                                </div>
                                <small data-i18n="endpoint_desc" style="color: var(--cisco-slate); line-height: 1.4;">
                                    å­˜å‚¨æ¯ä¸ª Pod çš„ Identity èº«ä»½ä¿¡æ¯ã€‚<br>
                                    <strong>å®‰å…¨ç­–ç•¥åˆ¤å®šçš„â€œå”¯ä¸€çœŸç†â€ï¼šåœ¨å†…æ ¸ä¸­ç›´æ¥æ ¸å¯¹èº«ä»½èƒ¸ç« ã€‚</strong>
                                </small>
                            </div>
                        </div>
                    </div>
            </div>

            <div class="analogy" style="margin-top: 30px;">
                <p style="font-size: 0.9rem; line-height: 1.6;">
                    <strong>ğŸ’¡ ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</strong> åœ¨ä¼ ç»Ÿæ¶æ„ä¸­ï¼Œæ§åˆ¶é€»è¾‘å’Œæ•°æ®å¤„ç†æ··åœ¨ä¸€èµ·ï¼Œå¯¼è‡´è§„åˆ™æ›´æ–°æ—¶æ€§èƒ½å‰§çƒˆæ³¢åŠ¨ã€‚
                    è€Œåœ¨ Cilium æ¶æ„ä¸­ï¼Œ<strong>ç”¨æˆ·æ€ Agent åªè´Ÿè´£â€œå†™ä¹¦â€ï¼ˆç¼–è¯‘ Mapï¼‰</strong>ï¼Œè€Œ <strong>å†…æ ¸æ€ eBPF åªè´Ÿè´£â€œè¯»ä¹¦â€ï¼ˆæ‰§è¡Œ Mapï¼‰</strong>ã€‚è¿™ç§å½»åº•çš„è¯»å†™åˆ†ç¦»ï¼Œç¡®ä¿äº†å³ä¾¿åœ¨å¤§è§„æ¨¡é«˜å¹¶å‘ä¸‹ï¼Œå®‰å…¨ç­–ç•¥çš„ä¸‹å‘ä¹Ÿä¸ä¼šå¯¼è‡´ç½‘ç»œæŠ–åŠ¨ã€‚
                </p>
            </div>
        </div>
    </section>
    <!-- Golden Circle + Identity Deep Dive + Kube-proxy æ›¿æ¢é€»è¾‘-->
    <section id="golden-circle-logic">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 4: The Strategic Logic</span>
                <h2>æ ¸å¿ƒä»·å€¼ï¼šé»„é‡‘åœˆè§£æ„</h2>
                <p>åŸºäºé»„é‡‘åœˆæ³•åˆ™ï¼Œæˆ‘ä»¬ä¸ä»…å…³æ³¨â€œåšäº†ä»€ä¹ˆâ€ï¼Œæ›´å…³æ³¨â€œä¸ºä»€ä¹ˆè¦è¿™æ ·åšâ€ä»¥åŠâ€œåº•å±‚å®ç°çš„ä¼˜é›…æ€§â€ã€‚</p>
            </div>

            <div class="golden-circle">
                <div class="gold-card" style="border-top-color: var(--cisco-red);">
                    <h4 style="color: var(--cisco-red);">1. ä¸ºä»€ä¹ˆå¿…é¡»æ”¹å˜? (Why)</h4>
                    <p style="margin-bottom: 15px;">ä¼ ç»Ÿæ¨¡å‹æ­£åœ¨æ’ä¸Šâ€œè§„æ¨¡ä¹‹å¢™â€ï¼š</p>
                    <ul style="list-style: none; font-size: 0.95rem; padding-left: 0;">
                        <li style="margin-bottom: 8px;">ğŸš€ <b>çªç ´ $O(N)$ æ€§èƒ½ç“¶é¢ˆï¼š</b> è§£å†³ iptables è§„åˆ™çˆ†ç‚¸å¯¼è‡´çš„è½¬å‘å»¶è¿Ÿå’Œ CPU æŠ–åŠ¨ã€‚</li>
                        <li style="margin-bottom: 8px;">ğŸ›¡ï¸ <b>å¼ƒç”¨è„†å¼±çš„ IP ç­–ç•¥ï¼š</b> äº‘åŸç”Ÿ Pod IP ç¬æ¯ä¸‡å˜ï¼Œå®‰å…¨ä¸èƒ½åŸºäºâ€œæ˜“é€çš„é—¨ç‰Œå·â€ã€‚</li>
                        <li style="margin-bottom: 8px;">ğŸ” <b>æ¶ˆé™¤å¯è§‚æµ‹æ€§ç›²åŒºï¼š</b> ä¼ ç»Ÿå·¥å…·æ— æ³•è§£æå®¹å™¨é—´çš„é€»è¾‘èº«ä»½å’Œ L7 è¯­ä¹‰ï¼ˆå¦‚ gRPC è·¯å¾„ï¼‰ã€‚</li>
                    </ul>
                    <div class="analogy">
                        ğŸ’¡ <b>Landmarkï¼š</b> Cilium å°†ç½‘ç»œæŸ¥æ‰¾å¤æ‚åº¦ä»çº¿æ€§ $O(N)$ é™è‡³å¸¸æ•°çº§ $O(1)$ã€‚
                    </div>
                </div>

                <div class="gold-card" style="border-top-color: var(--cisco-sky);">
                    <h4 style="color: var(--cisco-sky);">2. æˆ‘ä»¬å¦‚ä½•é‡å¡‘å†…æ ¸? (How)</h4>
                    <p style="margin-bottom: 15px;">é€šè¿‡ eBPF å®ç°å†…æ ¸æ€çš„â€œç¡¬åŠ é€Ÿâ€ï¼š</p>
                    <ul style="list-style: none; font-size: 0.95rem; padding-left: 0;">
                        <li style="margin-bottom: 8px;">ğŸ§  <b>å†…æ ¸åŸç”Ÿå¯ç¼–ç¨‹æ€§ï¼š</b> ç›´æ¥åœ¨ XDP/TC é’©å­å±‚å¤„ç†æŠ¥æ–‡ï¼Œç»•è¿‡åè®®æ ˆå†—ä½™è·¯å¾„ã€‚</li>
                        <li style="margin-bottom: 8px;">ğŸ·ï¸ <b>16ä½ èº«ä»½ ID æ˜ å°„ï¼š</b> å°†å¤æ‚çš„ Labels å“ˆå¸Œä¸º 16-bit æ•´æ•°ï¼Œåœ¨ BPF Map ä¸­æé€ŸæŸ¥æ‰¾ã€‚</li>
                        <li style="margin-bottom: 8px;">
                            ğŸ”— <b>Socket å±‚çº§é‡å®šå‘ï¼š</b> åˆ©ç”¨ <code>sockmap</code> å®ç°æœ¬åœ° Pod é€šä¿¡çš„â€œçŸ­è·¯æœºåˆ¶â€ã€‚
                            <div style="margin-top: 5px; font-size: 0.8rem; color: var(--cisco-slate); font-style: italic; background: #f0f0f0; padding: 5px 10px; border-radius: 4px;">
                                ğŸ’¡ <b>åº•å±‚é€»è¾‘ï¼š</b> å°±åƒåœ¨ä¸¤ä¸ªç›¸é‚»æˆ¿é—´æ‰“é€šäº†ä¸€æ‰‡æš—é—¨ï¼Œæ•°æ®ç›´æ¥ä» A ä¼ åˆ° Bï¼Œå†ä¹Ÿä¸ç”¨èµ°å‡ºæˆ¿é—´å»æŒ¤å¤–é¢çš„é•¿èµ°å»Šï¼ˆå¤æ‚çš„ç½‘ç»œåè®®æ ˆï¼‰ã€‚
                            </div>
                        </li>
                    </ul>
                    <div style="margin-top: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div style="background: rgba(226, 35, 26, 0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(226, 35, 26, 0.1);">
                            <strong style="color: var(--cisco-red); font-size: 0.85rem;">ğŸ›¡ï¸ XDP: å¤§é—¨å£çš„é—¨å«</strong><br>
                            <p style="font-size: 0.75rem; margin-top: 5px;">åœ¨ç½‘å¡é©±åŠ¨å±‚ç›´æ¥å¤„ç†ã€‚åäººåˆšåˆ°å¤§é—¨å£å°±è¸¢å‡ºå»ï¼Œä¿æŠ¤å†…æ ¸ä¸å— DDoS å†²å‡»ã€‚</p>
                        </div>
                        <div style="background: rgba(10, 159, 217, 0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(10, 159, 217, 0.1);">
                            <strong style="color: var(--cisco-blue); font-size: 0.85rem;">ğŸ›‚ TC: ç„å…³çš„å®‰æ£€</strong><br>
                            <p style="font-size: 0.75rem; margin-top: 5px;">åœ¨è¿›å…¥åè®®æ ˆå‰çš„ç„å…³å¤„ã€‚æ£€æŸ¥è¡Œæï¼ˆæŠ¥æ–‡å†…å®¹ï¼‰ï¼Œæ‰§è¡Œå¤æ‚çš„å®‰å…¨ç­–ç•¥ã€‚</p>
                        </div>
                    </div>                    
                </div>

                <div class="gold-card" style="border-top-color: var(--cisco-blue);">
                    <h4 style="color: var(--cisco-blue);">3. æœ€ç»ˆäº¤ä»˜äº†ä»€ä¹ˆ? (What)</h4>
                    <p style="margin-bottom: 15px;">ç»Ÿä¸€çš„ç½‘ç»œã€å®‰å…¨ä¸è§‚æµ‹å¹³é¢ï¼š</p>
                    <ul style="list-style: none; font-size: 0.95rem; padding-left: 0;">
                        <li style="margin-bottom: 8px;">ğŸï¸ <b>é«˜æ€§èƒ½ CNIï¼š</b> å®Œç¾æ›¿ä»£ kube-proxyï¼Œæ”¯æŒ BGP ç‰©ç†ç½‘é›†æˆä¸å¸¦å®½è°ƒåº¦ã€‚</li>
                        <li style="margin-bottom: 8px;">ğŸ•¸ï¸ <b>æ— ä»£ç†æœåŠ¡ç½‘æ ¼ï¼š</b> æ— éœ€ Sidecar å³å¯å®ç° L7 è·¯ç”±ã€TLS å¸è½½ä¸é‡‘ä¸é›€å‘å¸ƒã€‚</li>
                        <li style="margin-bottom: 8px;">ğŸ›‚ <b>å…¨å±€æµé‡æ²»ç†åº•åº§ï¼š</b> è·¨é›†ç¾¤çš„ ClusterMesh ä¸ç¬¦åˆ Gateway API æ ‡å‡†çš„å…¥å£æ§åˆ¶ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section style="background: #FDFDFD; padding-top: 0;">
        <div class="container">
            <div class="story-section" style="border-left-color: var(--cisco-sky); background: white;">
                <h4 style="color: var(--cisco-midnight); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--cisco-sky)" stroke-width="2">
                        <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
                    </svg>
                    å†…æ ¸åœ°æ ‡ï¼šèº«ä»½æ ‡è¯†ï¼ˆIdentityï¼‰çš„æ·±åº¦è§£æ„
                </h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 40px; font-size: 0.95rem;">
                    <div>
                        <p style="margin-bottom: 12px;"><b>1. èº«ä»½åˆ†é…ï¼š</b> Cilium Operator æ‰«æ Pod æ ‡ç­¾ï¼Œå°† <code>app=payment</code> ç­‰é›†åˆå“ˆå¸Œä¸ºä¸€ä¸ªå”¯ä¸€çš„ <b>16ä½ æ•´æ•° ID</b>ã€‚</p>
                        <p><b>2. æŠ¥æ–‡æ ‡è®°ï¼š</b> è¯¥ ID ä¼šè¢«æ³¨å…¥ VXLAN å¤´éƒ¨æˆ–åœ¨å†…æ ¸ä¸Šä¸‹æ–‡ä¸­ä¼ é€’ã€‚å®‰å…¨ç­–ç•¥ä¸å†ä¸ä¸ç¨³å®šçš„ IP ç»‘å®šã€‚</p>
                    </div>
                    <div>
                        <p style="margin-bottom: 12px;"><b>3. $O(1)$ ç­–ç•¥åˆ¤å®šï¼š</b> æ¥æ”¶ç«¯å†…æ ¸ç›´æ¥å°† Source ID ä½œä¸º Keyï¼Œåœ¨ <b>BPF Policy Map</b> ä¸­æ‰§è¡Œå“ˆå¸ŒæŸ¥æ‰¾ã€‚</p>
                        <p><b>4. ä»·å€¼ä½“ç°ï¼š</b> æ— è®ºé›†ç¾¤æœ‰ 100 ä¸ªè¿˜æ˜¯ 10,000 ä¸ª Podï¼Œå®‰å…¨åˆ¤å®šçš„å»¶è¿Ÿå§‹ç»ˆå¦‚ä¸€ï¼Œå½»åº•è§£å†³äº†â€œè§„åˆ™çˆ†ç‚¸â€é—®é¢˜ã€‚</p>
                    </div>
                </div>
                <div class="analogy" style="margin: 20px 0; background: #fff8f1; border-left: 4px solid var(--cisco-orange);">
                    <p style="font-size: 0.9rem; line-height: 1.6; color: var(--cisco-midnight);">
                        <strong>ğŸ’¡ æ·±åº¦ç±»æ¯”ï¼šç™»æœºç‰Œ (Identity) vs åº§ä½å· (IP)</strong><br>
                        ä¼ ç»Ÿç½‘ç»œåƒçœ‹<strong>åº§ä½å·</strong>ï¼šä¹˜å®¢ï¼ˆPodï¼‰ç»å¸¸æ¢åº§ä½ï¼Œç©ºä¹˜ï¼ˆé˜²ç«å¢™ï¼‰å¿…é¡»æ—¶åˆ»ç›¯ç€è°ååœ¨å“ªï¼Œéå¸¸æ··ä¹±ã€‚<br>
                        Cilium åƒçœ‹<strong>ç™»æœºç‰Œ</strong>ï¼šæ— è®ºä½ ååœ¨å“ªä¸ªä½ç½®ï¼ˆIPï¼‰ï¼Œä½ çš„ç™»æœºç‰Œï¼ˆIdentityï¼‰ä¸Šå°ç€çš„â€œå¤´ç­‰èˆ±â€æˆ–â€œç»æµèˆ±â€æƒé™æ˜¯å›ºå®šçš„ã€‚å†…æ ¸åªè®¤ç‰Œå­ï¼Œä¸è®¤åº§ä½ï¼Œæ•ˆç‡æå‡ 90% ä»¥ä¸Šã€‚
                    </p>
                </div>                
                <div style="margin-top: 25px; padding: 15px; background: #eef9ff; border-radius: 8px; border-left: 4px solid var(--cisco-blue);">
                    <small style="color: var(--cisco-midnight); font-weight: bold;">[ æ¶æ„å¸ˆè§†è§’ ]</small><br>
                    <small style="color: var(--cisco-slate);">è¿™æ˜¯ä»â€œåŒ…è¿‡æ»¤â€åˆ°â€œé€»è¾‘æ²»ç†â€çš„è·¨è¶Šã€‚IP æ˜¯ä¸´æ—¶çš„åº§ä½å·ï¼ŒIdentity æ‰æ˜¯æ°¸ä¹…çš„èº«ä»½è¯ã€‚</small>
                </div>
                <div style="margin-top: 35px; background: #1a1a1a; border-radius: 12px; overflow: hidden; border: 1px solid #333;">
                    <div style="background: #333; padding: 10px 20px; font-size: 0.8rem; color: #eee; display: flex; justify-content: space-between;">
                        <span>CiliumNetworkPolicy: Zero Trust Example</span>
                        <span style="color: var(--cisco-sky);">identity-aware.yaml</span>
                    </div>
                    <div style="padding: 20px; display: grid; grid-template-columns: 1.2fr 1fr; gap: 20px; align-items: center;">
                        <pre style="margin: 0; font-family: 'SF Mono', monospace; font-size: 0.8rem; color: #61C6E2;">
                apiVersion: "cilium.io/v2"
                kind: CiliumNetworkPolicy
                metadata:
                  name: "secure-payment-access"
                spec:
                  endpointSelector:
                    matchLabels:
                      app: payment-db
                  ingress:
                  - fromEndpoints:
                    - matchLabels:
                        <span style="color: #fff; border-bottom: 1px solid var(--cisco-sky);">app: payment-service</span> # é€»è¾‘æ ‡ç­¾
                        env: prod
                    toPorts:
                    - ports:
                      - port: "6379"
                        protocol: TCP</pre>
                        <div style="color: #888; font-size: 0.85rem; border-left: 1px solid #444; padding-left: 20px;">
                            <p style="color: white; font-weight: bold; margin-bottom: 10px;">å†…æ ¸æ‰§è¡Œé€»è¾‘ï¼š</p>
                            1. Cilium å°† <code>app: payment-service</code> æ˜ å°„ä¸º ID: <b>1042</b><br><br>
                            2. å½“è¯·æ±‚åˆ°è¾¾ç½‘å¡æ—¶ï¼ŒeBPF åœ¨ Maps ä¸­æ ¸å¯¹ï¼š<br>
                            <code style="background:#222; padding: 2px 5px;">SourceID: 1042 -> Port: 6379 -> [ALLOW]</code><br><br>
                            3. <b>ç»“è®ºï¼š</b> æ— éœ€æŸ¥çœ‹ IPï¼Œå³ä¾¿ Pod æ¼‚ç§»åˆ°æ–°èŠ‚ç‚¹ï¼Œç­–ç•¥ä¾ç„¶ç¬é—´ç”Ÿæ•ˆã€‚
                        </div>
                    </div>
                </div>                
            </div>
        </div>
    </section>

    <section style="background: #F0F7FA; border-left: 8px solid var(--cisco-blue);">
        <div class="container">
            <div class="section-header">
                <h2>æ¶æ„åˆ†æ°´å²­ï¼šå½»åº•å‘Šåˆ« Kube-proxy</h2>
                <p>ä¸ºä»€ä¹ˆ OpenAI å’Œ Netflix é€‰æ‹©åˆ é™¤ Kube-proxyï¼Ÿè¿™æ˜¯ä»çº¿æ€§æœç´¢åˆ°å¸¸æ•°çº§æŸ¥æ‰¾çš„èŒƒå¼è½¬ç§»ã€‚</p>
            </div>
            <div class="roi-panel" style="background: var(--white); color: var(--cisco-slate); border: 1px solid var(--cisco-blue); box-shadow: var(--shadow-card);">
                <div class="roi-stat">
                    <div class="roi-label" style="color:var(--cisco-midnight)">Service è½¬å‘å»¶è¿Ÿ</div>
                    <div class="roi-value" style="color:var(--cisco-blue)">$O(1)$</div>
                    <p style="color: var(--cisco-slate);">åŸºäº eBPF Hash Map æŸ¥æ‰¾</p>
                </div>
                <div class="roi-breakdown" style="border-left-color: var(--cisco-blue);">
                    <strong style="color: var(--cisco-midnight);">æŠ€æœ¯å†…å¹• (Inside the Kernel):</strong>
                    <ul style="list-style: none; padding-left: 0; margin-top: 15px;">
                        <li style="margin-bottom: 10px;"><b>1. ç»•è¿‡åè®®æ ˆï¼š</b> æŠ¥æ–‡é€šè¿‡ <code>XDP/TC</code> é’©å­åœ¨è¿›å…¥åè®®æ ˆå‰å®Œæˆ DNATã€‚</li>
                        <li style="margin-bottom: 10px;"><b>2. æ¶ˆé™¤è§„åˆ™çˆ†ç‚¸ï¼š</b> ä¼ ç»Ÿ iptables éš Service å¢åŠ å‘ˆ $O(N)$ å¤æ‚åº¦ï¼›Cilium å§‹ç»ˆä¿æŒå¸¸æ•°çº§æ€§èƒ½ã€‚</li>
                        <li style="margin-bottom: 10px;"><b>3. çº¯å‡€éƒ¨ç½²ï¼š</b> æ‰‹å†Œå®æˆ˜è¯æ˜ï¼šé€šè¿‡ <code>--skip-phases=addon/kube-proxy</code> å³å¯è·å¾—æœ€ç®€å†…æ ¸è·¯å¾„ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- [NEW SECTION] Infrastructure Integration: Gateway & BGP -->
    <section id="infrastructure-expansion">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 5: Beyond Pod Networking</span>
                <h2>åŸºç¡€è®¾æ–½é›†æˆï¼šç”±å†…æ ¸å®šä¹‰çš„ä¸­æ¢</h2>
                <p>Cilium ä¸ä»…å¤„ç† Pod é—´é€šä¿¡ï¼Œå®ƒæ­£åœ¨æˆä¸ºæ•°æ®ä¸­å¿ƒçš„ç½‘ç»œæ§åˆ¶ä¸­æ¢ã€‚</p>
            </div>

            <div class="grid-3">
                <div class="tech-card">
                    <span style="font-size:2rem;">ğŸš¦</span>
                    <h3>Gateway APIï¼šä¸‹ä¸€ä»£å—åŒ—å‘æ ‡å‡†</h3>
                    <p>ä¸ä»…æ˜¯ Ingressï¼Œæ›´æ˜¯å®Œå…¨å…¼å®¹ Kubernetes Gateway API æ ‡å‡†çš„æ§åˆ¶ä¸­å¿ƒã€‚</p>
                    <ul style="font-size: 0.85rem; padding-left: 20px; color: var(--cisco-slate); margin-top: 10px;">
                        <li style="margin-bottom: 5px;"><b>å…¨åè®®æ”¯æŒï¼š</b> åŸç”Ÿå¤„ç† HTTP/2ã€gRPC åŠ TLS å¸è½½ã€‚</li>
                        <li style="margin-bottom: 5px;"><b>L7 é‡å®šå‘ï¼š</b> åœ¨å†…æ ¸å±‚æ‰§è¡Œ HTTP è·¯ç”±ï¼Œæ— éœ€ç»è¿‡å¤šæ¬¡ç”¨æˆ·æ€æ‹·è´ã€‚</li>
                        <li style="margin-bottom: 5px;"><b>è·¨é›†ç¾¤æš´éœ²ï¼š</b> é…åˆ ClusterMeshï¼Œå®ç°è·¨åœ°åŸŸæœåŠ¡çš„å…¨å±€è´Ÿè½½å‡è¡¡ã€‚</li>
                    </ul>
                </div>

                <div class="tech-card" style="grid-column: span 1;">
                    <span style="font-size:2rem;">ğŸ“¡</span>
                    <h3>BGP ç‰©ç†å¯¹ç­‰ (ASN 65000)</h3>
                    <p>æ‰‹å†Œå®æˆ˜éªŒè¯ï¼šCilium ä¸ FRR å®ç° BGP Peeringï¼Œå°†å®¹å™¨ç½‘ç»œç›´æ¥æ¨å‘ç‰©ç†éª¨å¹²ç½‘ã€‚</p>
                    <div class="expert-debug-box" style="margin: 15px 0; font-size: 0.75rem; background: #222;">
                        <span class="debug-cmd">localASN:</span> 65000 <br>
                        <span class="debug-cmd">peerAddress:</span> "10.75.59.76" <br>
                        <span class="debug-cmd">advertisements:</span> <br>
                        &nbsp;&nbsp;- advertisementType: "PodCIDR" <br>
                        &nbsp;&nbsp;- advertisementType: "Service" (ClusterIP)
                    </div>
                    <div class="analogy" style="font-size: 0.8rem;">
                        ğŸ’¡ <b>æ¶æ„ä»·å€¼ï¼š</b> å½»åº•æ¶ˆé™¤éš§é“ï¼ˆOverlayï¼‰å¼€é”€ï¼Œå¤–éƒ¨ç½‘ç»œå¯ç›´æ¥é€šè¿‡ç‰©ç†è·¯ç”±è®¿é—® 172.16.0.0/20 ç½‘æ®µã€‚
                    </div>
                </div>

                <div class="tech-card">
                    <span style="font-size:2rem;">ğŸ›¡ï¸</span>
                    <h3>Tetragon è¿è¡Œæ—¶å®‰å…¨</h3>
                    <p>ç”± eBPF é©±åŠ¨çš„æ·±åº¦å®¡è®¡ã€‚ä¸ä»…ç›‘æ§ç½‘ç»œï¼Œæ›´å®æ—¶æ‹¦æˆªéæ³• Syscall å’Œæ–‡ä»¶ç¯¡æ”¹ã€‚å°†â€œè¿è¡Œæ—¶å®‰å…¨â€ä¸â€œç½‘ç»œéš”ç¦»â€åœ¨åŒä¸€æ•°æ®é¢å®ç°é—­ç¯ã€‚</p>
                    <div class="analogy" style="margin-top: 10px; font-size: 0.8rem;">
                        ğŸ’¡ <b>æ¶æ„å¸ˆè§†è§’ï¼š</b> è¿™æ˜¯å®‰å…¨å·¦ç§»çš„ç»ˆæå½¢æ€â€”â€”åœ¨å†…æ ¸æ€ç›´æ¥é˜»æ–­é£é™©ï¼Œè€Œéåœ¨ç”¨æˆ·æ€ç”Ÿæˆè­¦å‘Šã€‚
                    </div>
                </div>

                <div class="tech-card">
                    <span style="font-size:2rem;">ğŸš€</span>
                    <h3>AI ç®—åŠ›åŠ é€Ÿï¼šBandwidth Manager</h3>
                    <p>OpenAI é€‰æ‹© Cilium çš„æ ¸å¿ƒåŸå› ä¹‹ä¸€ï¼šé€šè¿‡ eBPF æ›¿ä»£ä¼ ç»Ÿçš„ HTB QDiscã€‚</p>
                    <div class="expert-debug-box" style="margin: 15px 0; font-size: 0.75rem; background: #222;">
                        <span class="debug-cmd">Mechanism:</span> EDT (Earliest Departure Time) <br>
                        <span class="debug-cmd">Benefit:</span> æ¶ˆé™¤ TCP æ…¢å¯åŠ¨æŠ–åŠ¨ï¼Œæ”¯æŒ 100Gbps+ åå <br>
                        <span class="debug-cmd">Value:</span> GPU é—´ All-Reduce é€šä¿¡æ•ˆç‡æå‡ 20%
                    </div>
                    <div class="analogy">ğŸ’¡ <b>æ¶æ„å¸ˆè§†è§’ï¼š</b> åœ¨ AI æ—¶ä»£ï¼Œç½‘ç»œæŠ–åŠ¨å°±æ˜¯ç®—åŠ›çš„â€œè¡€æ “â€ã€‚Cilium çš„å¸¦å®½ç®¡ç†è®©æ•°æ®æµåƒç‘å£«é’Ÿè¡¨ä¸€æ ·ç²¾å‡†ã€‚</div>
                </div>

                <div class="tech-card">
                    <span style="font-size:2rem;">ğŸŒ‰</span>
                    <h3>å‡ºå£ç½‘å…³ (Egress Gateway)</h3>
                    <p>ä¸ºå‡ºå£æµé‡æä¾›å›ºå®šä¸”å¯é¢„æµ‹çš„ IPã€‚æ»¡è¶³ä¼ä¸šä¸å¤–éƒ¨ä¼ ç»Ÿé˜²ç«å¢™æˆ– SaaS æœåŠ¡å¯¹æ¥æ—¶çš„ä¸¥æ ¼å®¡è®¡éœ€æ±‚ã€‚</p>
                    <div class="analogy" style="margin-top: 10px; font-size: 0.8rem;">ğŸ’¡ <b>æ¶æ„ï¼š</b> æµé‡åœ¨è·¨èŠ‚ç‚¹è·³è½¬æ—¶ä¿ç•™åŸå§‹æº IP è¯­ä¹‰ï¼Œæ”¯æŒé«˜å¯ç”¨çš„å‡ºå£èŠ‚ç‚¹çƒ­åˆ‡æ¢ã€‚</div>
                </div>

                <div class="tech-card" style="border: 2px solid var(--cisco-blue); background: rgba(4, 159, 217, 0.02);">
                    <span style="font-size:2rem;">ğŸŒ</span>
                    <h3>ClusterMeshï¼šå…¨çƒåŒ–åŸºç¡€è®¾æ–½</h3>
                    <p>è·¨åœ°åŸŸã€è·¨äº‘çš„æµé‡æ¢çº½ã€‚å®ç°ç»Ÿä¸€çš„èº«ä»½æ²»ç†ï¼Œåƒç®¡ç†å•é›†ç¾¤ä¸€æ ·ç®¡ç†å…¨çƒåŸºç¡€è®¾æ–½ã€‚</p>
                    <ul style="font-size: 0.85rem; padding-left: 20px; color: var(--cisco-slate); margin-top: 10px;">
                        <li style="margin-bottom: 5px;">è·¨é›†ç¾¤æœåŠ¡è‡ªåŠ¨å‘ç°</li>
                        <li style="margin-bottom: 5px;">åŸºäºèº«ä»½ï¼ˆIdentityï¼‰çš„å…¨åŸŸå®‰å…¨ç­–ç•¥</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section style="background: #F8FAFC; padding-top: 0;">
        <div class="container">
            <div class="grid-3">
                <div class="tech-card">
                    <span style="font-size:2rem;">ğŸ”</span>
                    <h3>é€æ˜åŠ å¯† (IPsec/WireGuard)</h3>
                    <p>æ— éœ€ä¿®æ”¹åº”ç”¨ã€‚Cilium åœ¨å†…æ ¸çº§æ‰§è¡Œ WireGuard æˆ– IPsec åŠ å¯†ã€‚ä¿æŠ¤æ•æ„Ÿæ•°æ®åœ¨ä¸å¯ä¿¡ç½‘ç»œé—´çš„ä¼ è¾“ã€‚</p>
                </div>
                <div class="tech-card" style="grid-column: span 2;">
                    <span style="font-size:2rem;">ğŸ§¿</span>
                    <h3>Identity DNSï¼šåŸºäºèº«ä»½çš„åŸŸåæ²»ç†</h3>
                    <p>Cilium çŸ¥é“å“ªä¸ª Pod æ­£åœ¨è¯·æ±‚å“ªä¸ªåŸŸåï¼Œå¹¶åŸºäº Pod èº«ä»½æ‰§è¡Œ L7 ç­–ç•¥ï¼Œæœ‰æ•ˆé˜»æ–­æ¶æ„ C2 å¤–è¿ã€‚</p>
                </div>
            </div>
        </div>
    </section>
    <!-- å¯è§†åŒ– Service Mesh è·¯å¾„å¯¹æ¯”-->
    <section style="background: white; padding-top: 0;">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Architectural Efficiency</span>
                <h2>è·¯å¾„æç®€ï¼šSidecar vs. Sidecar-less</h2>
                <p>é€šè¿‡ eBPF Socket é‡å®šå‘ï¼ŒCilium å½»åº•æ¶ˆé™¤äº†æ•°æ®åœ¨ç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´ä¸å¿…è¦çš„â€œå¾€è¿”è·‘â€ã€‚</p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                <div style="border: 1px solid var(--cisco-platinum); border-radius: 12px; padding: 25px; background: #fcfcfc;">
                    <h4 style="margin-bottom: 20px; color: var(--cisco-slate); text-align: center;">ä¼ ç»Ÿ Sidecar æ¨¡å¼ (6 æ¬¡è·³è½¬)</h4>
                    <div style="height: 200px; display: flex; flex-direction: column; align-items: center; justify-content: space-between;">
                        <div style="padding: 8px 15px; border: 2px solid #ddd; border-radius: 4px;">App Container</div>
                        <svg width="20" height="40"><path d="M10 0V40M5 30l5 10 5-10" fill="none" stroke="#E2231A" stroke-width="2"/></svg>
                        <div style="padding: 8px 15px; border: 2px solid var(--cisco-red); border-radius: 4px; color: var(--cisco-red);">Envoy Sidecar (User Space)</div>
                        <svg width="20" height="40"><path d="M10 0V40M5 30l5 10 5-10" fill="none" stroke="#E2231A" stroke-width="2"/></svg>
                        <div style="padding: 8px 15px; border: 2px solid var(--cisco-midnight); border-radius: 4px;">TCP/IP Stack (Kernel)</div>
                    </div>
                    <p style="font-size: 0.8rem; color: #888; margin-top: 20px; text-align: center;">
                        âš ï¸ ç—›ç‚¹ï¼šé¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸å†…å­˜æ‹·è´é€ æˆ ~1ms é¢å¤–å»¶è¿Ÿã€‚
                    </p>
                </div>

                <div style="border: 2px solid var(--cisco-blue); border-radius: 12px; padding: 25px; background: rgba(4,159,217,0.02);">
                    <h4 style="margin-bottom: 20px; color: var(--cisco-blue); text-align: center;">Cilium eBPF æ¨¡å¼ (Socket çŸ­è·¯)</h4>
                    <div style="height: 200px; display: flex; flex-direction: column; align-items: center; justify-content: center; position: relative;">
                        <div style="display: flex; gap: 40px; align-items: center; position: relative; z-index: 2;">
                            <div style="padding: 15px; border: 2px solid var(--cisco-midnight); border-radius: 8px; background: white;">App A</div>
                            <div style="border-bottom: 4px dashed var(--cisco-sky); width: 100px; position: relative;">
                                <span style="position: absolute; top: -25px; left: 50%; transform: translateX(-50%); font-size: 0.7rem; color: var(--cisco-sky); font-weight: bold; white-space: nowrap;">eBPF Sockmap</span>
                                <div style="position: absolute; right: -5px; top: -5px; width: 0; height: 0; border-top: 5px solid transparent; border-bottom: 5px solid transparent; border-left: 10px solid var(--cisco-sky);"></div>
                            </div>
                            <div style="padding: 15px; border: 2px solid var(--cisco-midnight); border-radius: 8px; background: white;">App B</div>
                        </div>
                        <div style="margin-top: 30px; padding: 8px 20px; background: var(--cisco-midnight); color: white; border-radius: 20px; font-size: 0.8rem;">Kernel Space Only</div>
                    </div>
                    <p style="font-size: 0.8rem; color: var(--cisco-slate); margin-top: 20px; text-align: center;">
                        âœ… ä¼˜åŠ¿ï¼šæ•°æ®ç›´æ¥åœ¨ Socket å±‚é‡å®šå‘ï¼Œæ€§èƒ½æ¥è¿‘åŸç”Ÿé€šä¿¡ã€‚
                    </p>
                </div>
            </div>
        </div>
    </section>
    <!-- SRE ROI è®¡ç®—æ¨¡å‹ + å…¨çƒå·¨å¤´å®æˆ˜æ¡ˆä¾‹ (OpenAI/Microsoft/Google) -->
    <section id="sre-roi-economics" style="background: #F8FAFC;">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 6: The Economics of Architecture</span>
                <h2>SRE ç»æµå­¦ï¼šSidecar-less ä¸æµé‡æ²»ç† ROI</h2>
                <p>æŠ€æœ¯é€‰å‹æœ€ç»ˆæ˜¯ä¸€æœ¬ç»æµè´¦ã€‚æ¶ˆé™¤ Sidecar åçš„èµ„æºåˆ©ç”¨ç‡æå‡ä¸ç½‘å…³æ•´åˆæ˜¯å…¶å•†ä¸šå¸å¼•åŠ›çš„æ ¸å¿ƒã€‚</p>
            </div>

            <div class="roi-panel">
                <div class="roi-stat">
                    <div class="roi-label">å¹³å‡äº‘è´¦å•èŠ‚çœ (Avg. Savings)</div>
                    <div class="roi-value">32% +</div>
                    <p style="opacity:0.7">åŸºäº 1000 èŠ‚ç‚¹è§„æ¨¡æµ‹ç®—</p>
                </div>
                <div class="roi-breakdown">
                    <strong>ä¸ºä»€ä¹ˆèƒ½çœé’±ï¼Ÿ(Economic Breakdown)</strong>
                    <ul style="margin-top: 15px;">
                        <li style="margin-bottom: 12px;"><b>å†…å­˜å†—ä½™æ¶ˆé™¤ï¼š</b> æ¯ä¸ª Envoy å ç”¨ ~50MBã€‚10,000 Pod = 500GB æµªè´¹ã€‚Cilium ä»…éœ€å¾®é‡ Node-level å†…å­˜ã€‚</li>
                        <li style="margin-bottom: 12px;"><b>CPU æŒ‡ä»¤ç¼©å‡ï¼š</b> æŠ¥æ–‡ä¸å†é¢‘ç¹ç©¿è¶Š User/Kernel è¾¹ç•Œã€‚é€šè¿‡ eBPF å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢æŸè€—ã€‚</li>
                        <li style="margin-bottom: 12px;"><b>ç½‘å…³æ•´åˆï¼š</b> <span class="highlight-cisco-blue">Cilium Gateway API</span> æ›¿ä»£äº† F5/Nginx å—åŒ—å‘ç½‘å…³ï¼Œè¿›ä¸€æ­¥å‰Šå‡äº† 15% çš„åŸºç¡€è®¾æ–½ç¡¬ä»¶æˆæœ¬ã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section id="case-studies">
        <div class="container">
            <div class="section-header">
                <h2>è¡Œä¸šå®æˆ˜ï¼šä¸ºä½•å…¨çƒå·¨å¤´çº·çº·è½¬å‘ Ciliumï¼Ÿ</h2>
                <p>ä» OpenAI çš„ AI ç®—åŠ›åº•åº§åˆ° Google çš„å…¨äº‘é€‰å‹ï¼ŒéªŒè¯äº†å…¶åœ¨å¤§è§„æ¨¡ç”Ÿäº§ç¯å¢ƒä¸‹çš„ç¨³å®šæ€§ã€‚</p>
            </div>

            <div class="success-story">
                <div class="story-content">
                    <h3 style="display: flex; align-items: center; gap: 10px;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--cisco-midnight)"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg>
                        OpenAI: æ”¯æ’‘ AI è®­ç»ƒçš„ç¥ç»ç³»ç»Ÿ
                    </h3>
                    <p style="margin-top: 15px;">åœ¨è®­ç»ƒ GPT ç­‰å¤§æ¨¡å‹æ—¶ï¼Œä¸Šä¸‡ä¸ª GPU èŠ‚ç‚¹éœ€è¦é¢‘ç¹è¿›è¡Œå…¨æ¢¯åº¦åŒæ­¥ï¼ˆAll-Reduceï¼‰ã€‚å“ªæ€•ç½‘ç»œå¢åŠ  1 æ¯«ç§’çš„å»¶è¿Ÿï¼Œéƒ½ä¼šå¯¼è‡´æ•°ç™¾ä¸‡ç¾å…ƒçš„ç®—åŠ›æµªè´¹ã€‚</p>
                    <ul style="margin-top: 15px; font-size: 0.95rem; padding-left: 20px;">
                        <li style="margin-bottom: 8px;"><b>æè‡´å¸¦å®½ï¼š</b> åˆ©ç”¨ eBPF ä¼˜åŒ–è®­ç»ƒç½‘ç»œååï¼Œæ”¯æŒ RoCE/RDMA åŠ é€Ÿã€‚</li>
                        <li style="margin-bottom: 8px;"><b>æ‹“æ‰‘é€è§†ï¼š</b> Hubble æä¾›äº†æ¨¡å‹è®­ç»ƒä»»åŠ¡çš„ç²¾ç¡®æµé‡æ‹“æ‰‘ã€‚</li>
                    </ul>
                </div>
                <div class="story-analysis">
                    <strong>æ¶æ„å¸ˆç‚¹è¯„ï¼š</strong>
                    å¯¹äº OpenAI æ¥è¯´ï¼ŒCilium æ˜¯ä¸€ä¸ª<b>æ€§èƒ½æ”¾å¤§å™¨</b>ï¼Œç¡®ä¿äº†æå…¶æ˜‚è´µçš„ GPU ç®—åŠ›ä¸è¢«ç½‘ç»œé˜»å¡ã€‚
                </div>
            </div>

            <div class="success-story">
                <div class="story-content">
                    <h3 style="display: flex; align-items: center; gap: 10px;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--cisco-midnight)"><path d="M2 3h9v9H2V3zm11 0h9v9h-9V3zM2 14h9v9H2v-9zm11 0h9v9h-9v-9z"/></svg>
                        Microsoft: Azure çš„ç»ˆæé€‰å‹
                    </h3>
                    <p style="margin-top: 15px;">Microsoft æ„è¯†åˆ°å¤§è§„æ¨¡ VNET çš„æ€§èƒ½ä¸å¯è§‚æµ‹æ€§æ˜¯æ ¸å¿ƒç«äº‰åŠ›ã€‚Azure CNI Powered by Cilium æˆåŠŸå®ç°äº†æ€§èƒ½ä¸åŸç”Ÿä½“éªŒçš„èåˆã€‚</p>
                    <ul style="margin-top: 15px; font-size: 0.95rem; padding-left: 20px;">
                        <li style="margin-bottom: 8px;"><b>åŸç”Ÿæ‰§è¡Œï¼š</b> æ€§èƒ½æ¯”ä¼ ç»Ÿæ¡¥æ¥æ¨¡å¼æå‡ 30%ã€‚</li>
                        <li style="margin-bottom: 8px;"><b>é€æ˜åˆ†æï¼š</b> å®¢æˆ·æ— éœ€ Sidecar å³å¯çœ‹åˆ°è¯¦å°½æµé‡è§†å›¾ã€‚</li>
                    </ul>
                </div>
                <div class="story-analysis">
                    <strong>æ¶æ„å¸ˆç‚¹è¯„ï¼š</strong>
                    å…¬æœ‰äº‘å·¨å¤´çš„é€‰æ‹©è¯æ˜äº† Cilium å·²ç»æˆä¸º<b>ä¸‹ä¸€ä»£äº‘ç½‘ç»œçš„æ ‡å‡†</b>ã€‚
                </div>
            </div>

            <div class="success-story">
                <div class="story-content">
                    <h3 style="display: flex; align-items: center; gap: 10px;">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="var(--cisco-midnight)"><path d="M12.545 10.239v3.821h5.445c-.712 2.315-2.647 3.972-5.445 3.972-3.332 0-6.033-2.701-6.033-6.032s2.701-6.032 6.033-6.032c1.498 0 2.866.549 3.921 1.453l2.814-2.814C17.503 2.988 15.139 2 12.545 2 7.021 2 2.543 6.477 2.543 12s4.478 10 10.002 10c8.396 0 10.249-7.85 9.426-11.748l-9.426-.013z"/></svg>
                        Google Cloud: GKE Dataplane V2
                    </h3>
                    <p style="margin-top: 15px;">Google å°† Cilium ä½œä¸º GKE çš„é»˜è®¤æ•°æ®å¹³é¢ï¼Œä¸ä»…æ˜¯ä¸ºäº†æ€§èƒ½ï¼Œæ›´æ˜¯ä¸ºäº† <b>FIPS åˆè§„ä¸é€æ˜åŠ å¯†</b>ã€‚</p>
                    <ul style="margin-top: 15px; font-size: 0.95rem; padding-left: 20px;">
                        <li style="margin-bottom: 8px;"><b>å®‰å…¨å…±è¯†ï¼š</b> éªŒè¯äº† eBPF åœ¨å¤šç§Ÿæˆ·ç¯å¢ƒä¸‹çš„ç¡¬éš”ç¦»èƒ½åŠ›ã€‚</li>
                    </ul>
                </div>
                <div class="story-analysis">
                    <strong>æ¶æ„å¸ˆç‚¹è¯„ï¼š</strong>
                    å½“æ‰€æœ‰äº‘å·¨å¤´éƒ½é‡‡ç”¨åŒä¸€å†…æ ¸æŠ€æœ¯æ—¶ï¼Œ<b>ç”Ÿæ€å…¼å®¹æ€§</b>å°±æ˜¯æœ€å¤§çš„æ¶æ„çº¢åˆ©ã€‚
                </div>
            </div>
        </div>
    </section>

    <section style="background: var(--cisco-midnight); color: white;">
        <div class="container" style="display: flex; align-items: center; gap: 50px;">
            <div style="flex: 1;">
                <h2 style="color: white;">Hubble UI: æ¯ä¸€ä¸ªæµçš„â€œèº«ä»½æŒ‡çº¹â€</h2>
                <p style="opacity: 0.8; margin: 20px 0;">
                    ä¼ ç»Ÿçš„ TCPDump åªèƒ½çœ‹åˆ° IP åœ°å€ï¼Œè€Œ Hubble èƒ½å¤Ÿçœ‹åˆ° <b>Identityï¼ˆèº«ä»½ï¼‰</b>ã€‚
                    è¿™æ˜¯ä»·å€¼è½åœ°çš„æœ€åä¸€æ­¥ï¼šè®©æŠ½è±¡çš„ç½‘ç»œæµå˜å¾—â€œå¯æ„Ÿã€å¯çŸ¥ã€å¯å®¡è®¡â€ã€‚
                </p>
                <div class="tag-good" style="background: rgba(106, 191, 75, 0.2); color: #6ABF4B; display: inline-block;">å®‰å…¨å¯è§æ€§æ”¶ç›Šï¼š100%</div>
            </div>
            <div style="flex: 1.2; background: rgba(255,255,255,0.05); padding: 25px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <div style="font-family: 'SF Mono', monospace; font-size: 0.85rem; color: #e0e0e0; line-height: 1.6;">
                    <span style="color: #888;">// Hubble Flow JSON è§‚æµ‹</span><br>
                    {<br>
                    &nbsp;&nbsp;"source": { "pod_name": "xwing", "identity": 36770 },<br>
                    &nbsp;&nbsp;"destination": { "pod_name": "deathstar", "identity": 15153 },<br>
                    &nbsp;&nbsp;"verdict": <span style="color: #6ABF4B;">"FORWARDED"</span>,<br>
                    &nbsp;&nbsp;"summary": "TCP Flags: SYN",<br>
                    &nbsp;&nbsp;"l7": { "http": { "method": "POST", "url": "/v1/request-landing" } }<br>
                    }
                </div>
            </div>
        </div>
    </section>

    <!-- Lab Section -->
    <section id="lab-section">
        <div class="container">
            <div class="section-header">
                <span style="text-transform: uppercase; font-size: 0.8rem; font-weight: 800; color: var(--cisco-blue); letter-spacing: 1.5px;">Step 7: From Theory to Production</span>
                <h2>Cilium äº’åŠ¨å®éªŒå®¤ï¼šé›¶èµ·ç‚¹æ¶æ„æ¼”ç»ƒ</h2>
                <p>åŸºäºçœŸå®çš„ç”Ÿäº§éƒ¨ç½²æ‰‹å†Œï¼Œç‚¹å‡»æ­¥éª¤è§‚å¯Ÿé›†ç¾¤çŠ¶æ€çš„æ¼”è¿›ã€‚è¿™ä¸ä»…æ˜¯å®‰è£…è¿‡ç¨‹ï¼Œæ›´æ˜¯æ¶æ„æ€ç»´çš„å®è·µã€‚</p>
            </div>

            <div class="lab-terminal">
                <div class="term-bar">
                    <span style="color:#27C93F; font-size: 0.7rem;">â— root@kube-node-1: ~ </span>
                </div>
                <div class="term-body">
                    <div class="log-stream" id="log-stream" style="flex: 1.5;">
                        [System] å®éªŒå®¤å‡†å¤‡å°±ç»ªã€‚è¯·é€‰æ‹©ä¸€ä¸ªéƒ¨ç½²é˜¶æ®µè¿›è¡Œè§‚å¯Ÿ...<br>
                    </div>
                    <div class="service-map" id="map-visual" style="flex: 1; background: #1a1a1a; padding: 20px; border-radius: 8px;">
                        <div id="status-display" style="color: #888; font-size: 0.85rem;">
                            <p>é›†ç¾¤çŠ¶æ€: <span id="k8s-status">æœªåˆå§‹åŒ–</span></p>
                            <p>ç½‘ç»œæ¨¡å‹: <span id="cni-status">æ— </span></p>
                            <p>BGP é‚»å±…: <span id="bgp-status">ä¸‹çº¿</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <div style="margin-top: 30px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <button onclick="runStep(1)" class="hook-card" style="cursor:pointer; text-align:left;">1. åˆå§‹åŒ– K8s (No Proxy)</button>
                <button onclick="runStep(2)" class="hook-card" style="cursor:pointer; text-align:left;">2. Ansible éƒ¨ç½² Helm</button>
                <button onclick="runStep(3)" class="hook-card" style="cursor:pointer; text-align:left;">3. Helm å®‰è£… Cilium</button>
                <button onclick="runStep(4)" class="hook-card" style="cursor:pointer; text-align:left;">4. BGP é‚»å±…å»ºç«‹</button>
                <button onclick="runStep(5)" class="hook-card" style="cursor:pointer; text-align:left;">5. Star Wars æµé‡è§‚æµ‹</button>
            </div>
        </div>
    </section>

    <section style="background: #FDFDFD;">
        <div class="container">
            <div class="section-header">
                <h2>è½åœ°è·¯å¾„ä¸ä¸“å®¶çº§æ’éšœæŒ‡å—</h2>
                <p>å¦‚ä½•å¹³æ»‘åœ°å¼€å¯ Cilium ä¹‹æ—…ï¼Œä»¥åŠåœ¨â€œé»‘ç›’â€é¢å‰ä¿æŒå†·é™çš„å·¥å…·ç®±ã€‚</p>
            </div>

            <div class="grid-3">
                <div style="background: white; padding: 30px; border-radius: 12px; border: 1px solid var(--cisco-platinum); border-top: 4px solid var(--cisco-blue);">
                    <h4 style="margin-bottom: 15px;">å…¼å®¹æ€§çŸ©é˜µ (Compatibility)</h4>
                    <p style="font-size: 0.85rem; margin-top:10px; color: var(--cisco-slate);">
                        â€¢ å†…æ ¸ç‰ˆæœ¬ï¼šæ¨è 5.10+ (å®ç°æœ€ä¼˜ eBPF æ€§èƒ½)<br>
                        â€¢ å¹³å°æ”¯æŒï¼šAWS, Azure, GCP, On-premise<br>
                        â€¢ æ¨¡å¼ï¼šæ”¯æŒå®Œå…¨æ›¿æ¢ kube-proxy (æ¨èæ¨¡å¼)
                    </p>
                </div>
                <div style="background: white; padding: 30px; border-radius: 12px; border: 1px solid var(--cisco-platinum); border-top: 4px solid var(--cisco-sky);">
                    <h4 style="margin-bottom: 15px;">è¿ç§»è·¯å¾„ (Migration Path)</h4>
                    <p style="font-size: 0.85rem; margin-top:10px; color: var(--cisco-slate);">
                        1. å¼€å¯ kube-proxy æ›¿æ¢æµ‹è¯•ï¼ŒéªŒè¯æ§åˆ¶å¹³é¢ç¨³å®šæ€§<br>
                        2. ç°åº¦ Namespace å¼€å¯ L7 ç­–ç•¥ï¼Œè¿›è¡Œæµé‡ç”»åƒ<br>
                        3. éƒ¨ç½² <span class="highlight-cisco-blue">Tetragon</span> å¼ºåŒ–å®‰å…¨å®¡è®¡ä¸è¿è¡Œæ—¶é˜²æŠ¤
                    </p>
                </div>
                <div style="background: white; padding: 30px; border-radius: 12px; border: 1px solid var(--cisco-platinum); border-top: 4px solid var(--cisco-midnight);">
                    <h4 style="margin-bottom: 15px;">SRE æ ¸å¿ƒå»ºè®® (Best Practices)</h4>
                    <p style="font-size: 0.85rem; margin-top:10px; color: var(--cisco-slate);">
                        â€¢ å§‹ç»ˆå¼€å¯ Hubble é“¾è·¯è¿½è¸ªä»¥è·å¾—å…¨æ ˆå¯è§æ€§<br>
                        â€¢ ä¼˜å…ˆä½¿ç”¨ Identity èº«ä»½ç­–ç•¥ï¼Œè€Œé IP ç­–ç•¥<br>
                        â€¢ å¯ç”¨ WireGuard åŠ å¯†ä¿æŠ¤é›†ç¾¤é—´æµé‡
                    </p>
                </div>
            </div>

            <div class="expert-debug-box" style="margin-top: 50px;">
                <div style="margin-bottom: 25px; color: var(--cisco-blue); font-weight: bold; font-size: 1.1rem; border-bottom: 1px solid #333; padding-bottom: 10px;">
                    [ ä¸“å®¶çº§å†…æ ¸æ’éšœå·¥å…·ç®± ]
                </div>

                <div style="margin-bottom: 35px; display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;">
                    <div style="background: rgba(255,255,255,0.03); border: 1px solid #333; border-top: 3px solid var(--cisco-blue); padding: 20px; border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--cisco-blue)" stroke-width="2"><path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                            <h4 style="color: #E4E4E4; margin: 0; font-size: 1rem;">L3/L4 æµè§‚æµ‹</h4>
                        </div>
                        <p style="font-size: 0.85rem; color: #AAA; line-height: 1.5; margin: 0;">
                            ä½¿ç”¨ <code style="color: var(--cisco-blue); background: rgba(4,159,217,0.1); padding: 2px 4px; border-radius: 3px;">hubble observe</code>ã€‚<br>
                            ç›‘æ§ IP è·¯å¾„ã€ç«¯å£å†²çªåŠ Packet Drop åŸå› ã€‚
                        </p>
                    </div>

                    <div style="background: rgba(255,255,255,0.03); border: 1px solid #333; border-top: 3px solid var(--cisco-sky); padding: 20px; border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="var(--cisco-sky)" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                            <h4 style="color: #E4E4E4; margin: 0; font-size: 1rem;">å†…æ ¸å‡½æ•°è¿½è¸ª</h4>
                        </div>
                        <p style="font-size: 0.85rem; color: #AAA; line-height: 1.5; margin: 0;">
                            ä½¿ç”¨ <code style="color: var(--cisco-sky); background: rgba(106,191,75,0.1); padding: 2px 4px; border-radius: 3px;">pwru</code>ã€‚<br>
                            è¿½è¸ªæŠ¥æ–‡åœ¨å†…æ ¸åè®®æ ˆä¸­æ¯ä¸€è·³çš„å‡½æ•°è¶³è¿¹ã€‚
                        </p>
                    </div>

                    <div style="background: rgba(255,255,255,0.03); border: 1px solid #333; border-top: 3px solid #888; padding: 20px; border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 12px;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="2"><path d="M4 7v10c0 1.1.9 2 2 2h12a2 2 0 002-2V7M4 7a2 2 0 012-2h12a2 2 0 012 2M4 7l8 5 8-5"/></svg>
                            <h4 style="color: #E4E4E4; margin: 0; font-size: 1rem;">çŠ¶æ€ä¸€è‡´æ€§æ£€æŸ¥</h4>
                        </div>
                        <p style="font-size: 0.85rem; color: #AAA; line-height: 1.5; margin: 0;">
                            ä½¿ç”¨ <code style="color: #AAA; background: rgba(255,255,255,0.05); padding: 2px 4px; border-radius: 3px;">cilium-dbg bpf</code>ã€‚<br>
                            ç›´æ¥æ˜ å°„å†…æ ¸ BPF Mapï¼ŒéªŒè¯æ•°æ®é¢åŒæ­¥çŠ¶æ€ã€‚
                        </p>
                    </div>
                </div>

                <div style="margin-bottom: 10px;">1. ç½‘ç»œå…¨è·¯å¾„è¿½è¸ª (Trace Every Packet):</div>
                <div class="debug-cmd">$ pwru --output-tuple '10.0.1.5:443'</div>
                <div style="margin: 10px 0 20px; color: #888;"># åŸºäº eBPF è¿½è¸ªæŠ¥æ–‡åœ¨å†…æ ¸ä¸­çš„æ¯ä¸€å±‚å‡½æ•°å¤„ç†</div>

                <div style="margin-bottom: 10px;">2. å®æ—¶å†…æ ¸ç›‘è§†å™¨ (Live Monitor):</div>
                <div class="debug-cmd">$ cilium monitor -v --type drop</div>
                <div style="margin: 10px 0 20px; color: #888;"># å®æ—¶æ•è·å†…æ ¸æ€ä¸¢åŒ…åŸå› ï¼ˆå¦‚ Policy æ‹¦æˆªæˆ– Checksum é”™è¯¯ï¼‰</div>

                <div style="margin-bottom: 10px;">3. çŠ¶æ€å¿«ç…§ (State Inspection):</div>
                <div class="debug-cmd">$ cilium-dbg bpf endpoint list</div>
                <div style="margin: 10px 0; color: #888;"># ç›´æ¥æŸ¥çœ‹å†…æ ¸ BPF Map ä¸­çš„ Identity æ˜ å°„ä¸ç­–ç•¥çŠ¶æ€</div>
            </div>

            <div class="expert-debug-box" style="margin-top: 30px; border-top: 4px solid var(--cisco-orange);">
                <div style="color: var(--cisco-orange); font-weight: bold; margin-bottom: 15px;">[ SRE æ·±åº¦è¿›é˜¶ï¼šå†…æ ¸ NAT æ˜ å°„å®¡è®¡ ]</div>
                <p style="margin-bottom: 10px; color: #888;">å½“ Pod è®¿é—®å¤–éƒ¨ç½‘ç»œæ—¶ï¼ŒCilium æ‰§è¡ŒåŸç”Ÿçš„ eBPF Masqueradeï¼š</p>
                <div class="debug-cmd" style="font-size: 0.8rem;">
                    # kubectl exec -n kube-system cilium-2vrgj -- cilium bpf nat list<br>
                    TCP OUT 172.16.3.155:35834 -> 147.182.252.2:443 XLATE_SRC 10.75.59.73:35834
                </div>
                <p style="margin-top: 15px; font-size: 0.85rem;">
                    ğŸ’¡ <b>è°ƒè¯•æŠ€å·§ï¼š</b> å¦‚æœå¤–éƒ¨è®¾å¤‡æ— æ³•æ”¶åˆ°å›åŒ…ï¼Œé¦–å…ˆé€šè¿‡ <code>cilium monitor -v --type drop</code> ç¡®è®¤å†…æ ¸æ˜¯å¦å› ä¸º Checksum é”™è¯¯ä¸¢å¼ƒäº†æŠ¥æ–‡ã€‚
                </p>
            </div>            
        </div>
    </section>

    <footer>
        <div class="container">
            <p style="font-weight: bold; margin-bottom: 20px;">Cilium Encyclopedia: The Source of Truth for eBPF Infrastructure</p>
            <p style="opacity:0.6; font-size: 0.8rem;">&copy; 2025 Cisco & Cilium Community. Full Comprehensive Version 3.0.</p>
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1);">
                <p style="font-size: 0.75rem; color: var(--cisco-blue);">"Make it Clear" implementation by AI Thought Partner based on Patrick Henry Winston's principles.</p>
            </div>
        </div>
    </footer>

    <script>
        /* ä¼˜åŒ–ï¼šåŸºäºå®æˆ˜æ‰‹å†Œçš„äº¤äº’è„šæœ¬ */
        const logs = {
            1: [
                "> sudo kubeadm init --skip-phases=addon/kube-proxy --pod-network-cidr=172.16.0.0/20",
                "[init] Using Kubernetes version: v1.33.3",
                "[certs] Generating apiserver certificate for IPs [10.75.59.71]",
                "âœ… Your Kubernetes control-plane has initialized successfully!",
                "Status: Node kube-node-1 is NotReady (Waiting for CNI)"
            ],
            2: [
                "> ansible-playbook playbook.yml -i inventory.ini",
                "TASK [helm_install : Download Helm tarball] -> changed",
                "TASK [helm_install : Move Helm binary to /usr/local/bin] -> changed",
                "âœ… version.BuildInfo{Version:\"v3.18.4\"} installed on all nodes"
            ],
            3: [
                "> helm install cilium isovalent/cilium --version 1.17.6 -f cilium-values.yaml",
                "Setting kubeProxyReplacement=true | k8sServiceHost=10.75.59.71",
                "Deploying cilium-agent DaemonSet and hubble-relay...",
                "âœ… cilium-operator Ready: 2/2 | hubble-relay Ready: 1/1",
                "Result: Nodes transitioned to 'Ready' state"
            ],
            4: [
                "> kubectl apply -f cilium-bgp.yaml",
                "> cilium bgp peers",
                "Node: kube-node-1 | Peer: 10.75.59.76 | State: established | Uptime: 19m",
                "Routes: Advertised 8 routes (PodCIDR: 172.16.0.0/24)",
                "âœ… BGP Routing Table updated on FRR-Node."
            ],
            5: [
                "> kubectl -n star-wars exec xwing -- curl -s -XPOST http://deathstar/v1/request-landing",
                "Hubble UI Observation: Source: xwing (172.16.3.155) -> Dest: deathstar (172.16.1.231)",
                "Verdict: ALLOWED | Protocol: HTTP/1.1 | Path: /v1/request-landing",
                "âœ… Ship landed! ğŸš€"
            ]
        };

        function runStep(step) {
            const stream = document.getElementById('log-stream');
            const k8sStatus = document.getElementById('k8s-status');
            const cniStatus = document.getElementById('cni-status');
            const bgpStatus = document.getElementById('bgp-status');

            stream.innerHTML = "";
            let i = 0;
            const interval = setInterval(() => {
                if (i < logs[step].length) {
                    stream.innerHTML += `<div><span style="color:#00FF41">${logs[step][i].startsWith('>') ? '' : 'â—'}</span> ${logs[step][i]}</div>`;
                    stream.scrollTop = stream.scrollHeight;
                    i++;
                } else {
                    clearInterval(interval);
                    // æ›´æ–° UI çŠ¶æ€
                    if(step == 1) k8sStatus.innerText = "å·²åˆå§‹åŒ– (No Proxy)";
                    if(step == 3) cniStatus.innerText = "Cilium v1.17.6 (eBPF)";
                    if(step == 4) bgpStatus.innerText = "å·²è¿æ¥ (Peer: 10.75.59.76)";
                }
            }, 400);
        }
    </script>
</body>
</html>